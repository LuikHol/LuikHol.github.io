<!DOCTYPE html>
<html>
<head>
  <title>MEDICAL REPORT</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <style>
    /* Estilos para o pop-up */
    .popup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      text-align: center;
      z-index: 9999;
    }

    .popup h2 {
      margin-top: 0;
    }

    .popup button {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <form action="" method="get" id="medicalReportForm">
    <fieldset>
      <legend>Odontologia:</legend>

      <label for="nome">Nome do Usuário:</label>
      <input type="text" id="nome" name="nome" placeholder="Digite o nome do Usuário" required>

      <label for="sexo">Sexo:</label>
      <select id="sexo" name="sexo" required> 
        <option value="" disabled selected>Selecione uma opção</option>
        <option value="masculino">Masculino</option>
        <option value="feminino">Feminino</option>
        <option value="outro">Outro</option>
      </select> <br>

      <label for="cartao_do_sus">Cartão do SUS:</label>
      <input type="number" id="cartao_do_sus" name="cartao_do_sus" placeholder="Digite o Número do Cartão do Sus" required>

      <label for="cfp">CPF:</label>
      <input type="text" id="cfp" name="cfp" placeholder="Digite o CPF" required><br> 

      <label for="data_nascimento">Data de Nascimento:</label>
      <input type="date" id="data_nascimento" name="data_nascimento" required>

      <label for="idade">Idade:</label>
      <input type="number" id="idade" name="idade" placeholder="Digite a idade" required><br>

      <label for="nome_reponsavel">Nome Responsável:</label>
      <input type="text" id="nome_reponsavel" name="nome_reponsavel" placeholder="Digite o nome do Responsável" required><br>

      <label for="telefone">Telefone:</label>
      <input type="tel" id="telefone" name="telefone" placeholder="Digite o número de telefone" required>

      <label for="endereco">Endereço:</label>
      <input type="text" id="endereco" name="endereco" placeholder="Digite o Endereço" required><br>

      <label for="bairro">Bairro:</label>
      <input type="text" id="bairro" name="bairro" placeholder="Digite o Bairro" required><br> 

      <label for="justificativa_do_encaminhamento">Justificativa do Encaminhamento:</label><br>
      <textarea id="justificativa_do_encaminhamento" name="justificativa_do_encaminhamento" placeholder="Digite a justificativa do encaminhamento do paciente" required></textarea><br>

      <label for="assinatura_e_carimbo_profissional">Assinatura e Carimbo do Profissional:</label><br>
      <input type="file" id="assinatura_e_carimbo_profissional" name="assinatura_e_carimbo_profissional" accept="image/*" required><br>
    </fieldset>
    <fieldset>
      <legend>Encaminhando para:</legend>
      <label for="unidade_de_referencia">Unidade de Referencia:</label>

      <label for="UE">CEO</label>
      <input type="checkbox" id="UE" name="unidade_de_referencia" value="CEO"><br>
      <input type="text" id="nome" name="nome" size="50" required><br>
      <label for="especialidade">Especialidade:</label>
      <input type="text" id="especialidade" name="especialidade" placeholder="Digite a Especialidade" required>

      <label for="data">Data:</label>
      <input type="date" id="data" name="data" required><br>

      <label for="assinatura_e_carimbo_profissional_referencia">Assinatura e Carimbo do Profissional:</label><br>
      <input type="file" id="assinatura_e_carimbo_profissional_referencia" name="assinatura_e_carimbo_profissional_referencia" accept="image/*" required><br>
    </fieldset>
    <input type="button" value="Enviar" onclick="validateForm()" class="enviar">
  </form>
  <a class="botao-voltar" href="../SRC_DATA_BASE_ELETRONIC_MEDICAL_RECORD/index.html">Voltar</a>

  <div class="popup" id="successPopup" style="display: none;">
    <h2>Operação concluída com sucesso!</h2>
    <button onclick="redirectToMenu()">Ir para o Menu</button>
  </div>

  <script>
    function validateForm() {
      var form = document.getElementById("medicalReportForm");
      var inputs = form.querySelectorAll("input[required], select[required], textarea[required]");
      var isValid = true;

      for (var i = 0; i < inputs.length; i++) {
        if (!inputs[i].value) {
          isValid = false;
          inputs[i].classList.add("error");
        } else {
          inputs[i].classList.remove("error");
        }
      }

      if (isValid) {
        showPopup();
      }
    }

    function showPopup() {
      var popup = document.getElementById("successPopup");
      popup.style.display = "block";
    }

    function redirectToMenu() {
      window.location.href = "../SRC_DATA_BASE_ELETRONIC_MEDICAL_RECORD/index.html";
    }
  </script>
</body>
</html>
